!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),i=function(e){return e.getParam("code_dialog_width",600)},c=function(e){return e.getParam("code_dialog_height",Math.min(t.DOM.getViewPort().h-200,500))},a=function(e,t){e.focus(),e.undoManager.transact(function(){e.setContent(t)}),e.selection.setCursorLocation(),e.nodeChanged()},r=function(e){return e.getContent({source_view:!0})},n=function(t){var e=i(t),n=c(t),o=r(t);t.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code",multiline:!0,flex:!0,minWidth:e,minHeight:n,spellcheck:!1,style:"direction: ltr; text-align: left"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:o},onSubmit:function(e){a(t,e.getData().code),e.close()}})},o=function(e){e.addCommand("mceCodeEditor",function(){n(e)})},u=function(e){e.ui.registry.addButton("code",{type:"button",icon:"sourcecode",tooltip:"Source code",onAction:function(){return n(e)}}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:function(){return n(e)}})};e.add("code",function(e){return o(e),u(e),{}}),function d(){}}();